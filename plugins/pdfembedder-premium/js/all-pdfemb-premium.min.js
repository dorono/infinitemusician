(function(){var k=function(k,g){return function(){return k.apply(g,arguments)}};(function(m){var g,h;h={bgColor:"#fff",inlineStyles:!0,lockDocumentScroll:!0,mainWrapperClass:"fsp-wrapper",contentWrapperClass:"fsp-content",closePopupClass:"fsp-close",close:!0,animationSpeed:200};g=function(){function f(b,a){this.element=b;this.closePopup=k(this.closePopup,this);this.init=k(this.init,this);this.options=m.extend({},h,a);this._defaults=h;this._name="fullScreenPopup";this.element=m(this.element);this.body=
m("body");this.element.on("click",this.init)}f.prototype.init=function(b){b.preventDefault();this.getTarget();this.getTargetSizes();this.createWrappers();this.wrapTarget();this.options.lockDocumentScroll&&this.lockDocumentScroll();this.render();return this.bindEvents()};f.prototype.getTarget=function(){this.target=this.options.popup?this.options.popup():m(this.element.attr("href")||this.element.data("popup"));return this.targetParent=this.target.parent()};f.prototype.getTargetSizes=function(){return this.targetSizes=
{width:this.target.width(),height:this.target.height()}};f.prototype.wrapTarget=function(){this.target=this.detachFromDom(this.target);return this.target.appendTo(this.contentWrapper)};f.prototype.render=function(){this.target.show();this.attachToDom(this.mainWrapper,"body");this.popupCentered();return this.mainWrapper.fadeIn(this.options.animationSpeed)};f.prototype.detachFromDom=function(b){return b.detach()};f.prototype.attachToDom=function(b,a){return b.appendTo(a)};f.prototype.bindEvents=function(){if(this.close)this.close.on("click",
this.closePopup);var b=this.closePopup;m(document).on("keyup.pdfembfullscreen",function(a){27==(a.keyCode?a.keyCode:a.which)&&b(a)});return this.mainWrapper.on("closePopup",this.closePopup)};f.prototype.createWrappers=function(){this.mainWrapper=m("<div/>",{"class":""+this.options.mainWrapperClass,style:this.options.inlineStyles?"background: "+this.options.bgColor+"; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 9999; overflow-y: auto; overflow-x: hidden; display: none":void 0});
this.contentWrapper=m("<div/>",{"class":""+this.options.contentWrapperClass,style:"width: 100%; height: 100%;  position: relative; top: 0px; left: 0px;"}).appendTo(this.mainWrapper);this.options.close&&(this.close=m("<a/>",{href:"#",html:"&times;","class":""+this.options.closePopupClass,style:this.options.inlineStyles?"position: absolute; right: 2em; top: 2em;":void 0}).appendTo(this.mainWrapper));return this};f.prototype.popupCentered=function(){};f.prototype.closePopup=function(b){var a;b.preventDefault();
a=this;m(document).unbind("keyup.pdfembfullscreen");return this.mainWrapper.fadeOut(this.options.animationSpeed,function(){a.options.lockDocumentScroll&&a.unlockDocumentScroll();a.target=a.detachFromDom(a.target);a.target.hide();a.attachToDom(a.target,a.targetParent);return a.deleteWrappers()})};f.prototype.deleteWrappers=function(){return this.mainWrapper.remove()};f.prototype.lockDocumentScroll=function(){return this.body.css({overflow:"hidden"})};f.prototype.unlockDocumentScroll=function(){return this.body.css({overflow:"visible"})};
return f}();return m.fn.fullScreenPopup=function(k){return this.each(function(){if(!m.data(this,"plugin_fullScreenPopup"))return m.data(this,"plugin_fullScreenPopup",new g(this,k))})}})(jQuery)}).call(this);
var pdfembGrabToPan=function(){function k(a){this.element=a.element;this.document=a.element.ownerDocument;"function"===typeof a.ignoreTarget&&(this.ignoreTarget=a.ignoreTarget);this.onActiveChanged=a.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._ontouchstart=this._ontouchstart.bind(this);this._ontouchmove=this._ontouchmove.bind(this);
this._ontouchend=this._ontouchend.bind(this);this._onmousewheel=this._onmousewheel.bind(this);this._endPan=this._endPan.bind(this);this._onkeyboardpan=this._onkeyboardpan.bind(this);this.element.addEventListener("pdfembKeyboardPan",this._onkeyboardpan,!1);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}k.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.addEventListener("mousewheel",
this._onmousewheel),this.element.addEventListener("wheel",this._onmousewheel),this.element.addEventListener("DOMMouseScroll",this._onmousewheel),this.element.addEventListener("touchstart",this._ontouchstart),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},
toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(a){return a[m]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(a){if(0===a.button&&!this.ignoreTarget(a.target)){this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=a.clientX;this.clientYStart=a.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,
!0);this.element.addEventListener("scroll",this._endPan,!0);a.preventDefault();a.stopPropagation();this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var b=document.activeElement;b&&!b.contains(a.target)&&b.blur()}},_onmousemove:function(a){this.element.removeEventListener("scroll",this._endPan,!0);var c;c="buttons"in a&&g?!(a.buttons|1):f||b?0===a.which:void 0;c?this._endPan():(c=a.clientX-this.clientXStart,this.element.scrollTop=this.scrollTopStart-(a.clientY-this.clientYStart),
this.element.scrollLeft=this.scrollLeftStart-c,this.overlay.parentNode||document.body.appendChild(this.overlay))},_ontouchstart:function(a){this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=a.touches[0].clientX;this.clientYStart=a.touches[0].clientY;this.distStart=this._calcTouchDistance(a);this.scaledForMagnification=!1;this.document.addEventListener("touchmove",this._ontouchmove);this.document.addEventListener("touchend",this._ontouchend);
1!=a.touches.length&&(a.preventDefault(),a.stopPropagation());this.document.documentElement.classList.add(this.CSS_CLASS_GRABBING);var b=document.activeElement;b&&!b.contains(a.target)&&b.blur();this.touchtapmaybe=1==a.touches.length},_calcTouchDistance:function(a){var b=NaN;a.touches&&2<=a.touches.length&&(b=Math.sqrt(Math.pow(a.touches[0].screenX-a.touches[1].screenX,2)+Math.pow(a.touches[0].screenY-a.touches[1].screenY,2)));return b},_calcTouchCenter:function(a){var b=0,e=0;a.touches&&2<=a.touches.length&&
(b=(a.touches[0].clientX+a.touches[1].clientX)/2,e=(a.touches[0].clientY+a.touches[1].clientY)/2);return[b,e]},_ontouchmove:function(a){var b=!0,e=a.touches[0].clientX-this.clientXStart,d=a.touches[0].clientY-this.clientYStart;if(1==a.touches.length){if(this.element.scrollTop=this.scrollTopStart-d,this.element.scrollLeft=this.scrollLeftStart-e,this.element.scrollTop==this.scrollTopStart&&0!=d||this.element.scrollLeft==this.scrollLeftStart&&0!=e)b=!1}else this.touchtapmaybe=!1;this.overlay.parentNode||
document.body.appendChild(this.overlay);if(0!=e||0!=d)this.touchtapmaybe=!1;e=this._calcTouchDistance(a);b&&(a.preventDefault(),a.stopPropagation());isNaN(this.distStart)?this.distStart=e:!isNaN(e)&&0<this.distStart&&0<e&&(d=(50+e)/(50+this.distStart),1.5<d&&(d=1.5),.75>d&&(d=.75),1!=d&&(this.scaledForMagnification=!0,b=document.createEvent("Events"),b.initEvent("pdfembMagnify",!0,!0),b.magnification=d,b.gtpelement=this.element,a=this._calcTouchCenter(a),b.centreLeft=a[0],b.centreTop=a[1],this.element.dispatchEvent(b)),
this.distStart=e)},_onmousewheel:function(a){this.element.removeEventListener("scroll",this._endPan,!0);var b=a.deltaY?-a.deltaY/40:a.wheelDelta?a.wheelDelta/40:-a.detail;this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;b*=40;this.element.scrollTop=this.scrollTopStart-b;this.overlay.parentNode||document.body.appendChild(this.overlay);if(this.element.scrollTop!=this.scrollTopStart||0==b)return a.preventDefault(),!1},_ontouchend:function(a){this._endPan();this.scaledForMagnification&&
(a=document.createEvent("Events"),a.initEvent("pdfembMagnify",!0,!0),a.magnification=-1,a.gtpelement=this.element,this.element.dispatchEvent(a));this.touchtapmaybe&&(a=document.createEvent("Events"),a.initEvent("pdfembTouchTapped",!0,!0),this.element.dispatchEvent(a))},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.document.removeEventListener("touchmove",
this._ontouchmove,!1);this.document.removeEventListener("touchend",this._ontouchend,!1);this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},_onkeyboardpan:function(a){a=a.detail.keyCode;if(37==a||39==a){var b=this.element.offsetWidth/7;5>b&&(b=5);this.element.scrollLeft-=37==a?b:-b}if(38==a||40==a)b=this.element.offsetHeight/7,5>b&&(b=5),this.element.scrollTop-=38==a?b:-b;this.overlay.parentNode||document.body.appendChild(this.overlay)}};var m;["webkitM","mozM","msM","oM",
"m"].some(function(b){b+="atches";b in document.documentElement&&(m=b);b+="Selector";b in document.documentElement&&(m=b);return m});var g=!document.documentMode||9<document.documentMode,h=window.chrome,f=h&&(h.webstore||h.app),b=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent);return k}(),PDFEMB_NS={};
jQuery(document).ready(function(k){var m=function(){var b=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)}();PDFEMB_NS.PIXEL_RATIO=m;createHiDPICanvas=function(b,a,c){c||(c=m);var e=document.createElement("canvas");e.width=b*c;e.height=a*c;e.style.width=b+"px";e.style.height=a+"px";e.getContext("2d").setTransform(c,0,
0,c,0,0);return e};var g=0,h=0;(function(){var b=document.createElement("div");b.style.width="100px";b.style.height="100px";b.style.overflow="scroll";b.style.position="absolute";b.style.top="-9999px";document.body.appendChild(b);g=b.offsetWidth-b.clientWidth;h=b.offsetHeight-b.clientHeight;document.body.removeChild(b)})();PDFEMB_NS.vscrollbarwidth=g;PDFEMB_NS.hscrollbarheight=h;var f=function(b,a,c){this.pdfDoc=b;this.divContainer=a;this.showIsSecure=c;this.initialResize=!1;this.firstPageHeight=this.firstPageWidth=
0;this.invalidationRound=1;this.currentPageNum=0;this.zoom=100};f.prototype.setup=function(){var b=this,a=this.divContainer,c=this.pdfDoc,e=this.showIsSecure;this.numPages=c.numPages;var d=a.data("scrollbar");this.vscrollbar="both"==d||"vertical"==d;this.hscrollbar="both"==d||"horizontal"==d;d="overflow-y: "+(this.vscrollbar?"scroll":"hidden")+"; ";d+="overflow-x: "+(this.hscrollbar?"scroll":"hidden")+"; ";a.empty().append(k("<div></div>",{"class":"pdfemb-pagescontainer",style:d}));a.data("pdfDoc",
c);d=a.data("toolbar");"top"!=d&&"both"!=d||this.addToolbar(!0,"on"==a.data("toolbar-fixed"),e);"bottom"!=d&&"both"!=d||this.addToolbar(!1,"on"==a.data("toolbar-fixed"),e);b.annotationsLayerFactory="undefined"!=typeof PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory?new PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory:{createAnnotationsLayerBuilder:function(b,a){return null}};b.annotationLayerFactories=[];a.on("pdfembGotopage",function(a,c){c>this.numPages||0>=c||(b.gotoPage(c),b.jumpToTop())});a.on("pdfembGotoHash",
function(a,c){if(c.dest){dest=c.dest;var e;"string"===typeof dest?(destString=dest,e=b.pdfDoc.getDestination(dest)):e=Promise.resolve(dest);e.then(function(a){a instanceof Array&&!(1>a.length)&&b.pdfDoc.getPageIndex(a[0]).then(function(a){a+=1;a>b.numPages||0>=a||b.currentPageNum==a||(b.gotoPage(a),b.jumpToTop())})})}});a.on("pdfembGotoAction",function(a,c){var e=b.currentPageNum,d=e;switch(c){case "GoBack":--d;break;case "GoForward":++d;break;case "NextPage":++d;break;case "PrevPage":--d;break;case "LastPage":d=
b.pageCount;break;case "FirstPage":d=1}d==e||d>b.pageCount||0>=d||b.gotoPage(d)});a.on("pdfembMagnify",function(a){b.magnifyEvent(a)});a.on("pdfembChangeZoom",function(a,c){b.changeZoom(c)});this.pageCount=c.numPages;(!a.data("pagenum")||1>a.data("pagenum")||a.data("pagenum")>this.pageCount)&&a.data("pagenum",1);a.data("showIsSecure",this.showIsSecure);a.data("pageNumPending",null);c="on"==a.data("fullScreen")?parseInt(a.data("startfpzoom")):parseInt(a.data("startzoom"));if(isNaN(c)||20>c||500<c)c=
100;this.zoom=c;100!=c&&a.find("span.pdfemb-zoom").text(c+"%");a.find("span.pdfemb-page-count").text(this.pageCount);this.gotoPage(a.data("pagenum"))};f.prototype.checkForResize=function(){var b=this,a=b.divContainer,c=k(window).height(),e=k(window).width(),d=a.data("checked-window-height"),l=a.data("checked-window-width");if(!d||!l)a.data("checked-window-height",c),a.data("checked-window-width",e);else if(d!=c||l!=e)b.resizeViewer(),b.resizeInnerDivs(),b.invalidateAllPages(),b.renderPage(this.currentPageNum),
b.prerenderNearbyPages(this.currentPageNum),a.data("checked-window-height",c),a.data("checked-window-width",e);"true"!=a.data("fullScreenClosed")&&setTimeout(function(){b.checkForResize()},100)};f.prototype.setSizesBasedOnPage=function(b){b=b.getViewport(1);this.pageWidth=b.width;this.pageHeight=b.height;(0>=this.pageWidth||0>=this.pageHeight)&&this.divContainer.empty().append(document.createTextNode(pdfemb_trans.objectL10n.widthheightinvalid))};f.prototype.createPageInnerDivs=function(){for(var b=
this.divContainer.find(".pdfemb-pagescontainer"),a=1;a<=this.pageCount;++a){var c=b.find(".pdfemb-inner-div.pdfemb-page"+a);0==c.length&&(c=k("<div></div>",{"class":"pdfemb-inner-div pdfemb-page"+a}),c.data("pageNum",a),b.append(c))}this.resizeInnerDivs()};f.prototype.addGrabToPan=function(){var b=this,a=b.divContainer,c=a.find("div.pdfemb-pagescontainer"),e=new pdfembGrabToPan({element:c[0]});a.data("grabtopan",e);c.on("scroll",function(a){var c=b.getTopVisiblePageNum();c!=b.currentPageNum&&(b.currentPageNum=
c,b.updatePageNumDisplay(c),b.renderPage(c,!1),b.prerenderNearbyPages(c),b.deallocateFarAwayPages(c));a.stopPropagation()});k(window).resize(function(){setTimeout(function(){b.checkForResize()},100)})};f.prototype.resizeInnerDivs=function(b){var a=this,c=a.wantCanvasWidth,e=a.wantCanvasHeight,d=a.wantHeight,l=this.divContainer.find(".pdfemb-pagescontainer").find(".pdfemb-inner-div");b&&(l=l.filter(".pdfemb-page"+b));var f=0;l.each(function(d,z){var m=k(z),g=m.data("widthfactor"),h=m.data("heightfactor");
g||(g=1);h||(h=1);m.data("invalidation-round",this.invalidationRound-1);m.css("width",c*g);var q=e*h+(b==a.numPages||!b&&d==l.length-1?0:2);m.css("height",q);f+=q;m=m.find(".pdfemb-the-canvas");m.css("width",c*g);m.css("height",e*h)});var z=0;!b&&f<d&&(z=(d-f)/2);l.first().css("top",z)};f.prototype.invalidateAllPages=function(){++this.invalidationRound};f.prototype.prerenderNearbyPages=function(b){var a=3,c=2;100>this.zoom&&(a*=Math.min(Math.ceil(100/this.zoom),10),c*=Math.min(Math.ceil(100/this.zoom),
10));for(c=Math.max(1,b-c);c<=Math.min(b+a,this.numPages);++c)c!=b&&this.renderPage(c,!1)};f.prototype.deallocateFarAwayPages=function(b){var a=50,c=50;if(100>this.zoom)var e=Math.min(Math.ceil(100/this.zoom),50),a=a+e,c=c+e;var e=function(b){b=d.find(".pdfemb-page"+b);var a=b.find(".pdfemb-the-canvas");a.length&&(a.remove(),b.data("invalidation-round",0))},d=this.divContainer.find("div.pdfemb-pagescontainer"),l;for(l=3;l<b-c;++l)e(l);for(l=b+a;l<this.numPages;++l)e(l)};f.prototype.resizeViewer=function(){var b=
this.pageWidth,a=this.pageHeight,c=this.divContainer,e=c.find("div.pdfemb-pagescontainer"),d=c.parent().width(),l=b;if("max"==c.data("width"))l=d;else if("auto"==c.data("width"))l=b;else if(l=parseInt(c.data("width"),10),isNaN(l)||0>=l)l=d;0>=l&&(l=b);l>d&&0<d&&(l=d);var b=l/b,a=a*b,k=this.pdfembWantMobile(l,r);this.wantMobile=k;var f=c.find("div.pdfemb-toolbar-fixed"),v=k?0:f.length,r=parseInt(c.data("height"),10);if(isNaN(r)||0>=r||r>a)r="auto"==c.data("height")?c.parent().height()-v*f.height():
a;this.userHeight=r;var l=Math.floor(l),a=Math.floor(a),d=100,t=l-(this.vscrollbar?g:0),p=a-(this.hscrollbar?h:0),u=1;k||(d=this.zoom,t=t*d/100,p=p*d/100,16777E3<t*p*m*m&&(u=16777E3/(t*p*m*m)));l!=c.width()&&c.width(l);c.height()!=r&&c.height(r+v*f.height());e.width(l);e.height(r);c=f.filter(".pdfemb-toolbar-top");0<v&&e.css("top",c.height());0!=this.fromZoom&&0!=this.toZoom&&(c=e[0].scrollTop,e[0].scrollLeft=this.toZoom/this.fromZoom*(e[0].scrollLeft+this.pccentreLeft)-this.pccentreLeft,e[0].scrollTop=
this.toZoom/this.fromZoom*(c+this.pccentreTop)-this.pccentreTop);self.fromZoom=0;self.toZoom=0;this.wantCanvasWidth=t;this.wantCanvasHeight=p;this.reducefactor=u;this.wantWidth=l;this.wantHeight=a;this.scale=b;this.zoom=d};f.prototype.getTopVisiblePageNum=function(){var b=this.divContainer.find(".pdfemb-pagescontainer").find(".pdfemb-inner-div:visible");return 0<b.length?b.first().data("pageNum"):1};f.prototype.gotoPage=function(b){0>=b||b>this.pageCount||(this.renderPage(b,!0),this.currentPageNum=
b,this.updatePageNumDisplay(b),this.prerenderNearbyPages(b),this.deallocateFarAwayPages(b))};f.prototype.updatePageNumDisplay=function(b){var a=this.divContainer;a.find("div.pdfemb-toolbar .pdfemb-page-num").each(function(a,e){var d=k(e);d.is("span")?d.text(b):d.val(b)});b<this.pageCount?a.find(".pdfemb-next").removeAttr("disabled").removeClass("pdfemb-btndisabled"):a.find(".pdfemb-next").attr("disabled","disabled").addClass("pdfemb-btndisabled");1<b?a.find(".pdfemb-prev").removeAttr("disabled").removeClass("pdfemb-btndisabled"):
a.find(".pdfemb-prev").attr("disabled","disabled").addClass("pdfemb-btndisabled")};f.prototype.scrollPageIntoView=function(b){var a=this.divContainer.find(".pdfemb-pagescontainer"),c=a.find(".pdfemb-page"+b);a.find(".pdfemb-inner-div").not(".pdfemb-page"+b).hide();c.show()};f.prototype.renderPage=function(b,a){var c=this,e=c.invalidationRound,d=this.divContainer,l=d.data("pdfDoc"),f=d.find(".pdfemb-pagescontainer"),g=f.find(".pdfemb-page"+b);if(g.length&&g.data("invalidation-round")>=e)a&&c.scrollPageIntoView(b);
else{var v=g.data("pending-drawing-round");v>=e||(0<v&&v<e?g.data("pending-drawing-round",e):(g.data("pending-drawing-round",e),l.getPage(b).then(function(l){c.initialResize||(c.initialResize=!0,c.setSizesBasedOnPage(l),c.resizeViewer(),c.createPageInnerDivs(),c.addGrabToPan());0==g.length&&(g=f.find(".pdfemb-page"+b));var h=g.data("widthfactor"),p=g.data("heightfactor");if(!h||!p){var u=l.getViewport(1),h=u.width/c.pageWidth,p=u.height/c.pageHeight;g.data("widthfactor",h);g.data("heightfactor",p);
1==h&&1==p||c.resizeInnerDivs(b)}var q=g.find(".pdfemb-the-canvas");0==q.length&&(q=k("<canvas></canvas>",{"class":"pdfemb-the-canvas"}),g.append(q));a&&c.scrollPageIntoView(b);var w=c.wantCanvasWidth,x=c.wantCanvasHeight,u=c.scale,A=c.zoom;q.css("width",w*h);q.css("height",x*p);c.wantMobile?d.data("grabtopan").deactivate():d.data("grabtopan").activate();c.pdfembMakeMobile();var n=l.getViewport(u*A/100),y=document.createElement("canvas");y.width=w*m*c.reducefactor*h;y.height=x*m*c.reducefactor*p;
var B=y.getContext("2d"),C=function(){q[0].width=w*m*c.reducefactor*h;q[0].height=x*m*c.reducefactor*p;c.preRenderCanvas(B,b,A);var a=B.getImageData(0,0,y.width,y.height);q[0].getContext("2d").putImageData(a,0,0);a=null;"undefined"==typeof c.annotationLayerFactories[b]?(a=c.annotationsLayerFactory.createAnnotationsLayerBuilder(g[0],l),c.annotationLayerFactories[b]=a):a=c.annotationLayerFactories[b];null!=a&&a.setupAnnotations(n,c.divContainer.data("newwindow"));g.data("invalidation-round",e);v=g.data("pending-drawing-round");
g.data("pending-drawing-round","");v>e&&c.renderPage(b,!1)};l.render({canvasContext:B,viewport:n,transform:[m*c.reducefactor,0,0,m*c.reducefactor,0,0]}).promise.then(function(){"requestAnimationFrame"in window?window.requestAnimationFrame(C):setTimeout(C,1)})})))}};f.prototype.changeZoom=function(b){var a=this.divContainer,c=this.zoom;this.zoom=b=c+b;a.find("span.pdfemb-zoom").text(b+"%");this.fromZoom=c;this.toZoom=b;a=a.find(".pdfemb-pagescontainer");this.pccentreLeft=a.width()/2;this.pccentreTop=
a.height()/2;this.resizeViewer();this.resizeInnerDivs();this.invalidateAllPages();this.renderPage(this.currentPageNum);this.prerenderNearbyPages(this.currentPageNum)};f.prototype.queueRenderPage=function(b,a){this.renderPage(b,a)};f.prototype.addToolbar=function(b,a,c){var e=this.divContainer,d=this,l=k("<div></div>",{"class":"pdfemb-toolbar pdfemb-toolbar"+(a?"-fixed":"-hover")+" "+(b?" pdfemb-toolbar-top":"pdfemb-toolbar-bottom")}),f=k('<button class="pdfemb-prev" title="'+pdfemb_trans.objectL10n.prev+
'" type="button"></button>');l.append(f);var g=k('<button class="pdfemb-next" title="'+pdfemb_trans.objectL10n.next+'" type="button"></button>');l.append(g);l.append(k('<div class="pdfemb-page-area">'+pdfemb_trans.objectL10n.page+' <span class="pdfemb-page-num">0</span> / <span class="pdfemb-page-count"></span></div>'));var m=k('<button class="pdfemb-zoomout" title="'+pdfemb_trans.objectL10n.zoomout+'" type="button"></button>');l.append(m);var h=k('<button class="pdfemb-zoomin" title="'+pdfemb_trans.objectL10n.zoomin+
'" type="button"></button>');l.append(h);l.append(k("<div>"+pdfemb_trans.objectL10n.zoom+' <span class="pdfemb-zoom">100%</span></div>'));c&&l.append(k("<div>"+pdfemb_trans.objectL10n.secure+"</div>"));b?e.prepend(l):e.append(l);f.on("click",function(a){1>=d.currentPageNum||(d.gotoPage(d.currentPageNum-1),d.jumpToTop())});g.on("click",function(a){d.currentPageNum>=d.pageCount||0==d.currentPageNum||(d.gotoPage(d.currentPageNum+1),d.jumpToTop())});h.on("click",function(a){500<=d.zoom||d.changeZoom(10)});
m.on("click",function(a){20>=d.zoom||d.changeZoom(-10)});d.addMoreToolbar(l);a||(e.on("mouseenter",function(a){a=e.find("div.pdfemb-toolbar-hover");!0!==a.data("no-hover")&&a.show()}),e.on("mouseleave",function(a){e.find("div.pdfemb-toolbar-hover").hide()}),e.on("pdfembTouchTapped",function(a){a.stopPropagation();a.preventDefault();if(!d.locktaps){d.locktaps=!0;a=e.find("div.pdfemb-toolbar-hover");var b=a.is(":visible");1==a.data("no-hover")&&(b=!0);b?a.hide():a.show();setTimeout(function(){d.locktaps=
!1},250)}}));pdfemb_trans.poweredby&&l.append(k("<div></div>",{"class":"pdfemb-poweredby"}).append(k('<a href="https://wp-pdf.com/?utm_source=Poweredby&utm_medium=freemium&utm_campaign=Freemium" target="_blank">wp-pdf.com</a>')))};f.prototype.magnifyEvent=function(b){var a=b.originalEvent.magnification;if(-1==a)this.resizeViewer(),this.resizeInnerDivs(),this.invalidateAllPages(),this.renderPage(this.getTopVisiblePageNum());else{var c=this.divContainer.find(".pdfemb-pagescontainer").offset();this.magnifyZoom(a,
b.originalEvent.centreLeft-c.left,b.originalEvent.centreTop-c.top)}};f.prototype.magnifyZoom=function(b,a,c){var e=this.zoom;b=Math.floor(e*b);20>b&&(b=20);500<b&&(b=500);this.zoom=b;this.divContainer.find("span.pdfemb-zoom").text(b+"%");this.fromZoom=e;this.toZoom=b;this.pccentreLeft=a;this.pccentreTop=c;this.resizeViewer();this.resizeInnerDivs();this.invalidateAllPages()};f.prototype.pdfembWantMobile=function(b,a){return!1};f.prototype.pdfembMakeMobile=function(){};f.prototype.addMoreToolbar=function(b){};
f.prototype.jumpToTop=function(){};f.prototype.preRenderCanvas=function(b,a,c){};PDFEMB_NS.pdfembPagesViewer=f});
jQuery(document).ready(function(k){var m=PDFEMB_NS.pdfembPagesViewer,g=function(){m.apply(this,arguments)};g.prototype=new m;pdfemb_trans.continousscroll&&(g.prototype.scrollPageIntoView=function(b){var a=this.divContainer.find(".pdfemb-pagescontainer");b=a.find(".pdfemb-page"+b);0!=b.length&&(b=b.position(),a[0].scrollTop+=b.top)},g.prototype.getTopVisiblePageNum=function(){for(var b=this.divContainer.find(".pdfemb-pagescontainer").find(".pdfemb-inner-div"),a=b.length,c=0,e=0,d=this.divContainer.height()/
10*(this.zoom/100);a>c&&50>e;){++e;var l=c+Math.floor((a-c)/2),f=Math.floor(k(b[l]).position().top);if(f<d)c=l;else if(f>d)a=l;else return l+1}return c+1});g.prototype.pdfembWantMobile=function(b,a){var c=this.divContainer;if("on"==c.data("fullScreen"))return!1;c=parseInt(c.data("mobile-width"),10);if(isNaN(c)||0>c)c=500;return b<c};g.prototype.pdfembMakeMobile=function(){var b=this.wantMobile,a=this.divContainer,c=a.find("div.pdfemb-pagescontainer");if(b){if(0==c.find(".pdfemb-inner-div-wantmobile").length){var b=
k("<div></div>",{"class":"pdfemb-inner-div-wantmobile pdfemb-wantmobile"}),e=k("<div></div>",{"class":"pdfemb-wantmobile-fsarea"}),d=k("<div></div>",{"class":"pdfemb-inner-div-wantmobile-fswrap pdfemb-wantmobile"}).append(e.append(document.createTextNode(pdfemb_trans.objectL10n.viewinfullscreen)));this.bindFullScreen(e);c.prepend(b);c.prepend(d);a.find(".pdfemb-toolbar-fixed").hide();a.find(".pdfemb-toolbar-hover").data("no-hover",!0)}}else c.find(".pdfemb-wantmobile").remove(),a.find(".pdfemb-toolbar-fixed").show(),
a.find(".pdfemb-toolbar-hover").data("no-hover",!1)};m.prototype.addMoreToolbar=function(b){var a=this,c=a.divContainer;if("on"==c.data("download")){var e=k('<button class="pdfemb-download" title="'+pdfemb_trans.objectL10n.download+'" type="button"></button>'),d=c.data("pdf-url");d&&(e.on("click",function(b){a.download(d,c.data("download-nonce"),c.data("tracking"))}),b.append(e))}e=k('<button class="pdfemb-fs" title="'+pdfemb_trans.objectL10n.fullscreen+'" type="button"></button>');"on"==c.data("fullScreen")?
(e.addClass("pdfemb-toggled"),e.on("click",function(a){c.closest(".pdfemb-fsp-wrapper").trigger("closePopup");c.data("fullScreenClosed","true")})):a.bindFullScreen(e);b.append(e);var l=b.find("div.pdfemb-page-area"),f=l.find("span.pdfemb-page-num");b=function(){var a=k("<input />",{type:"text","class":"pdfemb-page-num"});a.on("keyup",function(b){if(keyCode=b.keyCode?b.keyCode:13==b.which)b=parseInt(a.val()),!isNaN(b)&&0<b&&c.trigger("pdfembGotopage",b)});a.val(f.text());f.replaceWith(a);l.off("click")};
if("on"==c.data("pagetextbox"))b();else l.on("click",b)};m.prototype.download=function(b,a,c){void 0!==a&&""!=a&&(b+="&pdfemb-nonce="+a);setTimeout(function(){window.open(b)},100);"on"==c&&jQuery.post(pdfemb_trans.ajaxurl,{action:"pdfemb_count_download",pdf_url:b},function(a){})};m.prototype.bindFullScreen=function(b){var a=this,c=a.divContainer;b.fullScreenPopup({popup:function(){var b=a.pdfDoc,d=a.currentPageNum,l=c.data("showIsSecure"),f=c.data("pdf-url"),g=c.data("scrollbar"),m=c.data("download"),
h=c.data("tracking"),t=c.data("newwindow"),p=c.data("scrolltotop"),u=c.data("download-nonce"),q=c.data("disablerightclick"),w=c.data("pagetextbox"),x=c.data("startzoom"),A=c.data("startfpzoom"),n=k('<div class="pdfemb-viewer"></div>');n.data("pdfDoc",b);n.data("pagenum",d);n.data("showIsSecure",l);n.data("pdf-url",f);n.data("scrollbar",g);n.data("download",m);n.data("tracking",h);n.data("newwindow",t);n.data("scrolltotop",p);n.data("disablerightclick",q);n.data("pagetextbox",w);n.data("startzoom",
x);n.data("startfpzoom",A);n.data("width","max");n.data("height","auto");n.data("toolbar","bottom");n.data("toolbar-fixed","on");n.data("fullScreen","on");void 0!==u&&n.data("download-nonce",u);n.pdfEmbedder();k(document).on("keyup",function(a){var b=n.find(".pdfemb-pagescontainer");a=a.keyCode?a.keyCode:a.which;if(33==a)b.trigger("pdfembGotoAction","PrevPage");else if(34==a)b.trigger("pdfembGotoAction","NextPage");else if(37<=a&&40>=a){var c=document.createEvent("Event");c.initEvent("pdfembKeyboardPan",
!0,!1);c.detail={keyCode:a};n.find(".grab-to-pan-grab").each(function(a,b){b.dispatchEvent(c)})}else 187==a||109==a||61==a||43==a?b.trigger("changeZoom",10):189!=a&&107!=a&&45!=a&&173!=a||b.trigger("changeZoom",-10)});return n},close:!1,mainWrapperClass:"pdfemb-fsp-wrapper",contentWrapperClass:"pdfemb-fsp-content",inlineStyles:!1})};m.prototype.jumpToTop=function(){var b=this.divContainer;0<b.length&&"scrollIntoView"in b[0]&&"on"==b.data("scrolltotop")&&b[0].scrollIntoView()};m.prototype.preRenderCanvas=
function(b,a,c){var e=this.divContainer;c=pdfemb_trans.watermark_map;if(k.isArray(c)&&0!=c.length&&-1!==e.data("pdf-url").search("/?pdfemb-serveurl=")&&("undefined"==typeof pdfemb_trans.watermark_evenpagesonly||!pdfemb_trans.watermark_evenpagesonly||0===a%2)){a=5;for(var e=10,d="center",f=45,g=20,m=0;m<c.length;++m){var h=c[m];if(k.isArray(h)&&1<=h.length){var r=h[0];b.save();b.lineWidth=1;b.fillStyle="#444444";b.lineStyle="#111111";b.textAlign="left";b.font="20pt sans-serif";b.globalAlpha=.1;if(2<=
h.length&&(a=h[1],3<=h.length&&(e=h[2],4<=h.length&&(d=h[3],5<=h.length&&(f=h[4],6<=h.length&&(g=h[5],b.font=Math.round(b.canvas.width/1E3*g*100)/100+"pt sans-serif",7<=h.length&&"object"==typeof h[6])))))){var g=h[6],t;for(t in g)b[t]=g[t]}var p=b.measureText(r).width,h=b.canvas.height*e/100;"left"==d?(g=b.canvas.width*a/100,p=0):"right"==d?(g=b.canvas.width*(1-a/100),p=-p):(g=b.canvas.width/2,p=-p/2);b.translate(g,h);b.rotate(-Math.PI*f/360);b.fillText(r,p,0);b.restore();e+=10}}}};PDFEMB_NS.pdfembPagesViewerUsable=
g;var h=function(){function b(a){this.pageDiv=a.pageDiv;this.pdfPage=a.pdfPage;this.linkService=a.linkService;this.div=null}b.prototype={setupAnnotations:function(a,b){var e=this.pdfPage,d=this;e.getAnnotations({intent:"display"}).then(function(f){a=a.clone({dontFlip:!0});parameters={viewport:a,div:d.pageDiv,annotations:f,page:e,linkService:d.linkService};d.div?PDFJS.AnnotationLayer.update(parameters):0!==f.length&&(d.div=document.createElement("div"),d.div.className="annotationLayer pdfembAnnotationLayer",
d.pageDiv.appendChild(d.div),parameters.div=d.div,PDFJS.AnnotationLayer.render(parameters),"undefined"!==typeof mozL10n&&mozL10n.translate(d.div),f=d.pageDiv.getElementsByTagName("canvas")[0],d.div.style.left=f.style.left,d.div.style.top=f.style.top,jQuery(d.div).find("a").each(function(a,d){"on"==b&&(d.target="_blank");d.title="";jQuery(d).on("touchstart",function(a){a.stopPropagation()})}))})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}};return b}();PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory=
function(){};PDFEMB_NS.pdfembPremiumAnnotationsLayerFactory.prototype={createAnnotationsLayerBuilder:function(b,a){return new h({pageDiv:b,pdfPage:a,linkService:new f(b)})}};var f=function(){function b(a){this.pageDiv=a}b.prototype={navigateTo:function(a){a&&jQuery(this.pageDiv).parent().trigger("pdfembGotoHash",{dest:a})},getDestinationHash:function(a){return"#"},getAnchorUrl:function(a){return"#"},setHash:function(a){},executeNamedAction:function(a){a&&jQuery(this.pageDiv).parent().trigger("pdfembGotoAction",
a)},cachePageRef:function(a,b){}};return b}();PDFEMB_NS.pdfembCustomStyle=function(){function b(){}var a=["ms","Moz","Webkit","O"],c={};b.getProp=function(b,d){if(1===arguments.length&&"string"===typeof c[b])return c[b];d=d||document.documentElement;var f=d.style,g,h;if("string"===typeof f[b])return c[b]=b;h=b.charAt(0).toUpperCase()+b.slice(1);for(var k=0,m=a.length;k<m;k++)if(g=a[k]+h,"string"===typeof f[g])return c[b]=g;return c[b]="undefined"};b.setProp=function(a,b,c){a=this.getProp(a);"undefined"!==
a&&(b.style[a]=c)};return b}()});PDFEMB_NS.pdfembGetPDF=function(k,m){-1==k.search("/?pdfemb-serveurl=")?m(k,!1):(PDFEMB_NS.pdfembAddAjaxBufferTransport(),jQuery.ajax({dataType:"arraybuffer",type:"POST",url:k}).done(function(g){PDFEMB_NS.pdfemb_rc4ab(pdfemb_trans.k,g);g=new Uint8Array(g);m(g,pdfemb_trans.is_admin)}).fail(function(g,h,f){m(null,pdfemb_trans.is_admin)}))};PDFEMB_NS.pdfembAddAjaxBufferTransport_added=!1;
PDFEMB_NS.pdfembAddAjaxBufferTransport=function(){PDFEMB_NS.pdfembAddAjaxBufferTransport_added||(PDFEMB_NS.pdfembAddAjaxBufferTransport_added=!0,jQuery.ajaxTransport("+*",function(k,m,g){if(window.FormData&&(k.dataType&&("blob"==k.dataType||"arraybuffer"==k.dataType)||k.data&&(window.Blob&&k.data instanceof Blob||window.ArrayBuffer&&k.data instanceof ArrayBuffer)))return{send:function(g,f){var b=new XMLHttpRequest,a=k.url||window.location.href,c=k.type||"GET",e=k.dataType||"text",d=k.data||null,l=
k.async||!0;b.addEventListener("load",function(){var a={};a[e]=b.response;f(b.status,b.statusText,a,b.getAllResponseHeaders())});b.open(c,a,l);b.responseType=e;b.send(d)},abort:function(){g.abort()}}}))};
PDFEMB_NS.pdfemb_rc4ab=function(k,m){var g=[],h=0,f,b=new DataView(m),a=0;239==b.getUint8(0)&&187==b.getUint8(1)&&191==b.getUint8(2)&&(a=3);for(var c=0;256>c;c++)g[c]=c;for(c=0;256>c;c++)h=(h+g[c]+k.charCodeAt(c%k.length))%256,f=g[c],g[c]=g[h],g[h]=f;for(h=c=0;a<m.byteLength;a++)c=(c+1)%256,h=(h+g[c])%256,f=g[c],g[c]=g[h],g[h]=f,input=b.getUint8(a),output=input^g[(g[c]+g[h])%256],b.setUint8(a,output)};
jQuery(document).ready(function(k){k.fn.pdfEmbedder=function(){this.each(function(m,g){var h,f=k(g);if(f.is("a")){var b=f.data();h=k("<div></div>",{"class":f.attr("class"),style:f.attr("style")});h.data(k.extend({"pdf-url":f.attr("href")},b));f.replaceWith(h)}else h=f;h.append(k("<div></div>",{"class":"pdfemb-loadingmsg"}).append(document.createTextNode(pdfemb_trans.objectL10n.loading)));"on"==h.data("disablerightclick")&&h.bind("contextmenu",function(a){a.preventDefault()});var a=function(a,b){(new PDFEMB_NS.pdfembPagesViewerUsable(a,
h,b)).setup()},f=function(b,e){null===b?h.empty().append(k("<div></div>",{"class":"pdfemb-errormsg"}).append(msgnode=k("<span></span>").append(document.createTextNode("Failed to load and decrypt PDF")))):PDFJS.getDocument(b).then(function(b){a(b,e)},function(a){var b=document.createTextNode(a.message);"UnexpectedResponseException"==a.name&&0==a.status&&(b=k("<span></span>").append(document.createTextNode(pdfemb_trans.objectL10n.domainerror+" ")).append(k('<a href="https://wp-pdf.com/troubleshooting/#unexpected" target="_blank">'+
pdfemb_trans.objectL10n.clickhereinfo+"</a>")));h.empty().append(k("<div></div>",{"class":"pdfemb-errormsg"}).append(b))})};h.data("pdfDoc")?a(h.data("pdfDoc"),h.data("showIsSecure")):(b=h.data("pdf-url"),PDFEMB_NS.pdfembGetPDF(b,f))});return this};PDFJS.workerSrc=pdfemb_trans.worker_src;PDFJS.cMapUrl=pdfemb_trans.cmap_url;PDFJS.cMapPacked=!0;k(".pdfemb-viewer").pdfEmbedder()});
